---
title: 『これって迷惑かも』でプルリクを諦めた話 - .gitignoreと貢献者心理
emoji: 🙌
type: tech
topics:
  - github
  - git
  - akun
published: true
tags:
  - akun
url: ""
---



## プロローグ：美咲の困惑

「先輩！大変です！」

美咲が慌てた様子でAくんのデスクに駆け寄ってきた。

「どうしたの？何かエラーでも出た？」

「それが...昨日見つけたオープンソースプロジェクトをフォークして、バグ修正したんですけど...」

美咲の画面を見ると、`git status`の結果が表示されていた。

```bash
$ git status
On branch fix-validation-bug
Changes to be committed:
  (use "git restore --staged <file>..." to unstage)
	modified:   src/validators/email.js

Changes not staged for commit:
  (use "git add <file>..." to update what will be committed)
  (use "git restore <file>..." to discard changes in working directory)
	modified:   .DS_Store
	modified:   src/.DS_Store
	modified:   src/validators/.DS_Store
````

「あー、よくあるパターンだね。macOSだと`.DS_Store` が自動生成されるから」

「でも、これって勝手に`.gitignore`に追加しちゃっていいんでしょうか？なんか余計なことしてる気がして...」

美咲の表情が曇る。Aくんは以前の自分の経験を思い出していた。

## 第1章：Aくんの苦い経験

「実は僕も同じような経験があるんだ」

Aくんは椅子に座り直し、少し遠い目をした。

「確か2年前だったかな。興味深いライブラリを見つけて、ドキュメントの誤字を直そうとしたんだ。簡単な修正だったから、すぐにプルリクエストを出すつもりだった。でも、」

「でも？」

「でも、`git add`した時に`.DS_Store`が含まれてしまって。その時は今の美咲さんと同じように悩んだよ。『これを`.gitignore`に追加するのは越権行為じゃないか』って」

美咲は身を乗り出して聞いている。

「それで結局どうしたんですか？」

「...結局、プルリクエストを出すのをやめてしまった」

「えっ！」

「今思えば、もったいないことをしたと思う。そのプロジェクトの開発者にとっても、僕の修正提案は価値があったはずなのに」

## 第2章：結愛の鋭い指摘

そのとき、後ろから声が聞こえた。

「...また、そんな遠回りなことしてるの？」

振り返ると、結愛がいつの間にか立っていた。

「ゆあさん！」美咲が手を振る。

「その話、聞いてたけど」結愛は腕を組んだ。「典型的な『完璧主義の落とし穴』よね」

「完璧主義？」

「貢献者が『余計なことはしたくない』って萎縮してしまう。でも、その結果...」

結愛は美咲の画面を指差した。

「こうして実際に価値のある貢献が失われる。プロジェクト側にとっても大きな損失よ」

Aくんは苦笑いした。「手厳しいなぁ」

「事実でしょ？」

## 第3章：包括的な.gitignoreの価値

「でも、どうして最初から`.DS_Store`とか、こういうファイルを無視するように`.gitignore`を設定しておかないんでしょうか？」美咲が疑問を口にした。

「いい質問ね」結愛の表情が少し柔らかくなった。「つまり、macOSユーザーだけじゃなくて、Windowsユーザーのファイルとか、色んなエディタのファイルとかも含めて、最初からまとめて除外しておけばいいのにってことよね？」

「そうそう！そうすれば美咲さんみたいに困る人もいなくなるのに...」Aくんも同調する。

「実は、そういう『幅広いファイルをカバーする.gitignore』を用意しない理由がいくつかあるの」

結愛は手近なホワイトボードに書き始めた。

```
包括的な .gitignore のメリット：
1. チーム開発の円滑化
2. 新規貢献者の参入障壁を下げる
3. 将来の拡張性
4. メンテナンス負荷の軽減
```

「一方で、『必要最小限主義』を好む開発者もいる」

「必要最小限主義？」

「そのプロジェクトで実際に使われるファイルだけを`.gitignore`に書くべきだっていう考え方よ。『うちはNode.jsプロジェクトだから、Pythonの`__pycache__`とかJavaの`.class`ファイルを除外する必要はない』みたいな」

「あー、確かにそれはそうですね...」

「でも、特にオープンソースプロジェクトの場合、幅広いファイルをカバーするアプローチの方が圧倒的に有利よ」

「なるほど...」

## 第4章：実践的な解決策

「じゃあ、実際にどうすればいいんでしょうか？」美咲が身を乗り出した。

Aくんが答える。「いくつかのアプローチがあるんだ」

### プロジェクト側の対策

「まず、プロジェクト側ができることから」

```gitignore
# OS関連
.DS_Store
.DS_Store?
._*
.Spotlight-V100
.Trashes
ehthumbs.db
Thumbs.db
Desktop.ini

# エディタ関連
.vscode/
.idea/
*.swp
*.swo
*~

# 一時ファイル
*.tmp
*.log
.cache/
```

「こういう感じで、最初から包括的な`.gitignore`を用意しておく」

### 貢献者側の対策

「一方で、貢献者側もできることがある」

結愛が続ける。「グローバル`.gitignore`の設定よ」

```bash
# グローバル .gitignore を設定
git config --global core.excludesfile ~/.gitignore_global
```

「これで、個人の環境固有のファイルは自動的に除外される」

「おー、そんな方法があるんですね！」美咲が目を輝かせた。

### コミュニティ側の対策

「でも、一番大切なのは文化的な側面かもしれない」Aくんが言った。

「文化的な側面？」

「『多様な環境からの貢献を歓迎する』という雰囲気を作ること。CONTRIBUTINGガイドに明記したり」

結愛が頷く。「特に日本の開発者は慎重だから、プロジェクト側が積極的に歓迎の姿勢を示すことが重要ね」

## 第5章：美咲の決断

「なるほど...よく分かりました！」

美咲は決意を固めた様子で言った。

「じゃあ、今回は思い切って`.gitignore`の改善も含めてプルリクエストを出してみます！」

「それがいいと思う」Aくんが微笑んだ。

「でも、もし断られたら？」

「その時は、別のコミットで提案すればいいのよ」結愛が答えた。「大切なのは、価値のある貢献を躊躇しないこと」

## 第6章：その後の展開

数日後、美咲は嬉しそうに報告に来た。

「先輩！プルリクエスト、マージされました！」

「おめでとう！」

「それで、面白いことがあったんです。プロジェクトの管理者から『.gitignoreの改善もありがとう。他の貢献者からも同じような要望があったから、とても助かった』ってコメントがあったんです」

Aくんと結愛は顔を見合わせた。

「やっぱり、同じような悩みを持つ人は多いんだね」

「そうね。美咲ちゃんのおかげで、きっと他の貢献者も楽になるはず」

## エピローグ：学んだこと

「今回の件で学んだことは？」結愛が美咲に尋ねた。

「はい！」美咲は元気よく答えた。「技術的な改善と、環境の改善は、どちらも価値のある貢献だということです」

「それから？」

「自分が『余計なこと』だと思っていることが、実は他の人にとっても価値があるかもしれないということです」

「よくできました」結愛は笑顔で美咲の頭を撫でた。

美咲はにっこりと笑って、少し頬を赤らめた。「ゆあさんに褒められると、なんだかとても嬉しいです！」

Aくんも満足そうに頷いた。「僕も、もっと積極的に貢献していこうと思う。あの時のプルリクエストを出さなかったのは、今でも後悔してるから」

「そうそう」結愛がにやりと笑った。「完璧主義より、行動力の方が大切よ」

「はい！今度は迷わずプルリクエスト出します！」美咲が拳を握って宣言すると、三人は笑い合った。

## 技術的補足：推奨される包括的.gitignore

最後に、実際に使える包括的な`.gitignore`の例を示しておきます：

```gitignore
# ===== OS関連 =====
# macOS
.DS_Store
.DS_Store?
._*
.Spotlight-V100
.Trashes
Icon?

# Windows
ehthumbs.db
Thumbs.db
Desktop.ini
$RECYCLE.BIN/

# Linux
*~

# ===== エディタ関連 =====
# VS Code
.vscode/
*.code-workspace

# JetBrains IDEs
.idea/
*.iws
*.iml
*.ipr

# Vim
*.swp
*.swo
*~

# Emacs
\#*\#
.\#*

# Sublime Text
*.sublime-project
*.sublime-workspace

# ===== 一時ファイル =====
*.tmp
*.temp
*.log
*.cache
.cache/

# ===== 依存関係・ビルド成果物 =====
node_modules/
dist/
build/
target/
*.egg-info/
__pycache__/
*.pyc
*.pyo
```

## まとめ

この記事では、`.gitignore`の包括的な設定がオープンソースプロジェクトにもたらす価値について、実体験を交えて説明しました。

**キーポイント：**

- 貢献者の心理的障壁を下げる
- 多様な開発環境に対応する
- コミュニティ全体の利益を考慮する
- 完璧主義より行動力を重視する

小さな配慮が、大きな貢献につながることがあります。あなたのプロジェクトでも、ぜひ包括的な`.gitignore`を検討してみてください。

---

**@misaki_dev**
```
初めてのOSS貢献、無事マージされました🎉
`.gitignore`の改善も一緒に提案したら「他の貢献者からも要望があった、助かった」って言ってもらえて...😭

自分が「余計なこと」だと思ってたことが、実は他の人の役に立ってたなんて！

#OSS #初心者エンジニア #プルリク #gitignore
```

---

美咲のスマートフォンには、すでに数件の「いいね」とリプライが届き始めていた。

**@senior_dev_tanaka** 
おめでとうございます！その通り、.gitignoreの改善も立派な貢献です👍

**@oss_newbie_serika**
すごい！私も今度挑戦してみます💪

「あ、もうリプライが...！」美咲の目がキラキラと輝いていた。「みんな優しい！」
